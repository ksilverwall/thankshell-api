const AWS = require("aws-sdk");
const dynamo = new AWS.DynamoDB.DocumentClient();

module.exports = class GroupDao {
  async getAsync(groupId) {
    let data = await dynamo.get({
      TableName: process.env.GROUPS_TABLE_NAME,
      Key:{
        'group_id': groupId,
      }
    }).promise();

    if (!data.Item) {
      return null
    }

    return {
      'groupId': data.Item.group_id,
      'bankId': data.Item.bank_id,
      'secrets': data.Item.secrets,
      'tokenName': data.Item.token_name ? data.Item.token_name : 'coin',
    };
  }
};
